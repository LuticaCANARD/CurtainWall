@page "/inputschedule"

<div>
    <div>
        <h1>Input Schedule</h1>
        <form method="POST" @onsubmit="OnSubmit">
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" class="form-control" id="name" placeholder="Enter name" @bind="schedule.Name">
                <InputDateTime @ref="_inputDate" />
                <InputDate TValue="TimeOnly"
                           ValueExpression="@(()=>_startTime)"
                           Value="_startTime"
                           Type="InputDateType.Time"
                           ValueChanged="@((TimeOnly t)=> _startTime = t)" />

            </div>
            <button>Submit</button>
        </form>
    </div>
</div>
<div>
    <ChangeLanguage />
</div>

@code {
    [SupplyParameterFromForm]
    public SubmitSchedule schedule { get; set; }
    protected override void OnInitialized(){
        schedule ??= new ();
    }
    private int chchedHour = 0;

    private void OnSubmit()
    {
        // Do something
        Debug.WriteLine(schedule.Name);

    }
    private void CheckDate(DateTime selectedTime)
    {

    }
    DateOnly dateOnly;
    TimeOnly _startTime;
    InputDateTime _inputDate;
    private void SetDate()
    {
        DateOnly startDate = _inputDate.GetDateOfThisComponent();
        schedule.StartTime = new DateTime(startDate.Year, startDate.Month, startDate.Day, _startTime.Hour, _startTime.Minute, _startTime.Second);
    }
    public class SubmitSchedule
    {
        public string Name { get; set; } = "";
        public DateTime StartTime { get; set; } = DateTime.Now;
        public DateTime ExpireTime { get; set; } = DateTime.Now;
    }

}
